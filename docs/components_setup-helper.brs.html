<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>components/setup-helper.brs - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-associative-array.html">associative-array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-associative-array.html#.AssociativeArrayUtil">AssociativeArrayUtil</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-base-plugin.html">base-plugin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.getConfig">getConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.getName">getName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.initialize">initialize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.isValid">isValid</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.loadMedia">loadMedia</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-base-plugin.html#.updateConfig">updateConfig</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-fake-event.html">fake-event</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-fake-event.html#.addEventListener">addEventListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-fake-event.html#.dispatchEvent">dispatchEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-fake-event.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-fake-event.html#.removeEventListener">removeEventListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-fake-event.html#.removeEventListeners">removeEventListeners</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-kaltura-player.html">kaltura-player</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.configure">configure</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.createLib">createLib</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.createRequestBuilder">createRequestBuilder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getActiveVideoTrack">getActiveVideoTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getAudioTracks">getAudioTracks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getConfig">getConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getCurrentAudioTrack">getCurrentAudioTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getCurrentTextTrack">getCurrentTextTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getCurrentTime">getCurrentTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getDownloadedTracks">getDownloadedTracks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getDuration">getDuration</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getHeight">getHeight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getKalturaPlayerEvents">getKalturaPlayerEvents</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getMediaConfig">getMediaConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getMediaInfo">getMediaInfo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getPoster">getPoster</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getProviderResponse">getProviderResponse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getStreamType">getStreamType</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getTextTracks">getTextTracks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getTimeToStartStream">getTimeToStartStream</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getVideoElement">getVideoElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.getWidth">getWidth</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.hideTextTrack">hideTextTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.isDvr">isDvr</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.isLive">isLive</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.isMuted">isMuted</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.loaded">loaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.loadMedia">loadMedia</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.onKeyEvent">onKeyEvent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.play">play</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.ready">ready</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.reset">reset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.seekToLiveEdge">seekToLiveEdge</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.selectAudioTrack">selectAudioTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.selectTextTrack">selectTextTrack</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setCurrentTime">setCurrentTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setHeight">setHeight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setLoop">setLoop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setMedia">setMedia</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setMute">setMute</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setPreload">setPreload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setup">setup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-kaltura-player.html#.setWidth">setWidth</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-kaltura-player-event.html">kaltura-player-event</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-main.html">main</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-main.html#.Main">Main</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-plugin-manager.html">plugin-manager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.destroy">destroy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.getAll">getAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.loadMedia">loadMedia</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-plugin-manager.html#.reset">reset</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-poster.html">poster</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-sample.html">sample</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sample.html#.eventHandler">eventHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sample.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sample.html#.loaded">loaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sample.html#.ready">ready</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-setup-helper.html">setup-helper</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.addClientTag">addClientTag</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.addKalturaParams">addKalturaParams</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.addReferrer">addReferrer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.addSessionID">addSessionID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.addUIConfId">addUIConfId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.evaluatePluginsConfig">evaluatePluginsConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.getClientTag">getClientTag</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.getQueryStringParamDelimiter">getQueryStringParamDelimiter</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.getReferrer">getReferrer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.getStreamsType">getStreamsType</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.handleSessionId">handleSessionId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.setSessionID">setSessionID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.updateSessionId">updateSessionId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-setup-helper.html#.updateSessionIdInUrl">updateSessionIdInUrl</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-string.html">string</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#.StringUtil">StringUtil</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">components/setup-helper.brs</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>function evaluatePluginsConfig(config as object) as object

    defaultConfig = {
        ottAnalytics: {
            entryId: invalid,
            ks: invalid,
            isAnonymous: invalid,
            partnerId: invalid,
            serviceUrl: invalid
        },
        kava: {
            playerVersion: getClientTag(),
            playerName: invalid,
            partnerId: invalid,
            playlistId: invalid,
            entryId: invalid,
            entryType: invalid,
            sessionId: invalid,
            ks: invalid,
            uiConfId: invalid,
            referrer: getReferrer(),
            encodedReferrer: invalid
        }
    }

    commonConfig = _fetchDataFromConfig(config)
    pluginsConfig = {}
    for each plugin in defaultConfig.Items()
        pluginConfig = {}
        pluginProps = plugin.value
        for each prop in pluginProps.Items()
            if pluginProps[prop.key] &lt;> invalid
                pluginConfig.AddReplace(prop.key, pluginProps[prop.key])
            elseif commonConfig[prop.key] &lt;> invalid
                pluginConfig.AddReplace(prop.key, commonConfig[prop.key])
            endif
        end for
        pluginsConfig[plugin.key] = pluginConfig
    end for
    conf = AssociativeArrayUtil().mergeDeep(config.plugins,pluginsConfig)
    return conf
end function

function _fetchDataFromConfig(config as object) as object
    model = {}
    if config &lt;> invalid

        if config.provider &lt;> invalid
            if config.provider.env &lt;> invalid
                model["serviceUrl"] = config.provider.env.serviceUrl
                if model["serviceUrl"] &lt;> invalid
                    model["embedBaseUrl"] = model["serviceUrl"].Replace("api_v3/","")
                endif
            endif
            AssociativeArrayUtil().mergeDeep(model,{
                ks: config.provider.ks,
                uiConfId: config.provider.uiConfId,
                partnerId: config.provider.partnerId })
        endif

        if config.session &lt;> invalid
            AssociativeArrayUtil().mergeDeep(model,{
                sessionId: config.session.id,
                ks: config.session.ks,
                isAnonymous: config.session.isAnonymous,
                uiConfId: config.session.uiConfId,
                partnerId: config.session.partnerId })
        end if

        if config.sources &lt;> invalid
            entryName = invalid
            if config.sources.metadata &lt;> invalid and config.sources.metadata.name &lt;> invalid
                entryName = config.sources.metadata.name
            endif
            AssociativeArrayUtil().mergeDeep(model,{
                entryId: config.sources.id,
                entryName: entryName,
                entryType: config.sources.type })
        end if

    end if

    return model

end function

function handleSessionId(config as object) as object
    if config.session &lt;> invalid and config.session.id &lt;> invalid
        return updateSessionId(config)
    else
        return addSessionID(config)
    end if
end function

function updateSessionId(config as object) as object
    r = CreateObject("roRegex", ":((?:[a-z0-9]|-)*)", "i")
    secondGuid = r.Match(StringUtil().toString(config.session.id))
    if secondGuid &lt;> invalid and secondGuid[1] &lt;> invalid
        return setSessionID(config, r.Replace(config.session.id, ":" + CreateObject("roDeviceInfo").GetRandomUUID()))
    end if
    return config
end function

function addSessionID(config as object) as object
    primaryGuid = CreateObject("roDeviceInfo").GetRandomUUID()
    secondGuid = CreateObject("roDeviceInfo").GetRandomUUID()
    return setSessionID(config, primaryGuid + ":" + secondGuid)
end function

function setSessionID(config as object, sessionId as string) as object
    if config.session = invalid
        config.session = {}
    end if
    config.session.id = sessionId
    return config
end function

function getReferrer() as string
    channelId = CreateObject("roAppInfo").GetID()
    ba=CreateObject("roByteArray")
    ba.FromAsciiString(channelId)
    return ba.ToBase64String()
end function

function addReferrer(url as string, paramName="referrer=" as string) as string
    if StringUtil().indexOf(url,paramName) = -1
        url += getQueryStringParamDelimiter(url) + paramName + getReferrer()
    end if
    return url
end function

function addUIConfId(url as string, config as object ,paramName="uiConfId=" as string) as string
    uiconfid = invalid
    if config.provider &lt;> invalid and config.provider.uiConfId &lt;> invalid then uiconfid = config.provider.uiConfId
    if StringUtil().indexOf(url,paramName) = -1 and uiconfid &lt;> invalid
        url += getQueryStringParamDelimiter(url) + paramName + uiconfid
    end if
    return url
end function

function getClientTag() as string
    return CreateObject("roAppInfo").GetVersion()
end function

function addClientTag(url as string,paramName="clientTag=roku:v" as string) as string
    if StringUtil().indexOf(url,paramName) = -1
        url += getQueryStringParamDelimiter(url) + paramName + getClientTag()
    end if
    return url
end function

function updateSessionIdInUrl(url as string, sessionId as string, paramName="playSessionId=" as string ) as string
    if sessionId &lt;> invalid
        r = CreateObject("roRegex", paramName + "((?:[a-z0-9]|-)*:(?:[a-z0-9]|-)*)", "i")
        sessionIdInUrl = r.Match(StringUtil().toString(url))
        if sessionIdInUrl &lt;> invalid and sessionIdInUrl[1] &lt;> invalid
            url = r.Replace(StringUtil().toString(url), paramName + sessionId)
        else
            url += getQueryStringParamDelimiter(url) + paramName + sessionId
        end if
    end if
    return url
end function

function getQueryStringParamDelimiter(url as string) as string
    if StringUtil().indexOf(url,"?") = -1
        return "?"
     else
        return "&amp;"
    end if
end function

function addKalturaParams(config as object) as object
    PLAY_MANIFEST = "playmanifest/"
    DRM_SESSION_ID = "sessionId="
    UDRM_DOMAIN = "kaltura.com"
    CUSTOM_DATA = "custom_data="
    SIGNATURE = "signature="
    config = handleSessionId(config)
    _sessionId = config.session.id
    _streamsType = getStreamsType()
    for i=0 to _streamsType.count() - 1
        sourcesFormat = config.sources.LookupCI(_streamsType[i])
        if sourcesFormat &lt;> invalid
            for j=0 to sourcesFormat.count() - 1
                source = sourcesFormat[j]
                if StringUtil().isString(source.url) and StringUtil().indexOf(source.url,PLAY_MANIFEST) > -1
                    source.url = updateSessionIdInUrl(source.url, _sessionId)
                    source.url = addReferrer(source.url)
                    source.url = addClientTag(source.url)
                end if
                if source.drmData &lt;> invalid
                    drmData = source.drmData
                    for k=0 to drmData.count() - 1
                        if StringUtil().isString(drmData[k].licenseUrl) and StringUtil().contains(drmData[k].licenseUrl,UDRM_DOMAIN) and StringUtil().contains(drmData[k].licenseUrl,CUSTOM_DATA) and StringUtil().contains(drmData[k].licenseUrl,SIGNATURE)
                            drmData[k].licenseUrl = updateSessionIdInUrl(drmData[k].licenseUrl, _sessionId, DRM_SESSION_ID)
                            drmData[k].licenseUrl = addClientTag(drmData[k].licenseUrl)
                            drmData[k].licenseUrl = addReferrer(drmData[k].licenseUrl)
                            drmData[k].licenseUrl = addUIConfId(drmData[k].licenseUrl, config)
                        end if
                        source.drmData[k] = drmData[k]
                    end for
                end if
                sourcesFormat[j] = source
            end for
        end if
        config.sources.AddReplace(_streamsType[i],sourcesFormat)
    end for
    return config
end function

function getStreamsType() as object
    return ["hls","dash","progressive"]
end function</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Thu Aug 06 2020 16:31:06 GMT+0300 (Israel Daylight Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
